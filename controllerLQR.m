function K = controllerLQR(m, Ix, Iy, Iz, g)
  %    x,  y,  z,  u,  v,  w, phi, th, psi, p, q,  r;
  A = [0   0   0   1   0   0   0   0   0   0   0   0;
       0   0   0   0   1   0   0   0   0   0   0   0;
       0   0   0   0   0   1   0   0   0   0   0   0;
       0   0   0   0   0   0   0   g   0   0   0   0;
       0   0   0   0   0   0   -g  0   0   0   0   0;
       0   0   0   0   0   0   0   0   0   0   0   0;
       0   0   0   0   0   0   0   0   0   1   0   0;
       0   0   0   0   0   0   0   0   0   0   1   0;
       0   0   0   0   0   0   0   0   0   0   0   1;
       0   0   0   0   0   0   0   0   0   0   0   0;
       0   0   0   0   0   0   0   0   0   0   0   0;
       0   0   0   0   0   0   0   0   0   0   0   0];

  %    f     tx      ty      tz
  B = [0     0       0       0;
       0     0       0       0;
       0     0       0       0;
       0     0       0       0;
       0     0       0       0;
       1/m   0       0       0;
       0     0       0       0;
       0     0       0       0;
       0     0       0       0;
       0     1/Ix    0       0;
       0     0       1/Iy    0;
       0     0       0       1/Iz];

% Set LQR Weight
  Q = [0.1 0  0  0  0  0  0  0  0  0  0  0;
       0   0.1 0  0  0  0  0  0  0  0  0  0;
       0   0  15  0  0  0  0  0  0  0  0  0;
       0   0  0  1  0  0  0  0  0  0  0  0;
       0   0  0  0  1  0  0  0  0  0  0  0;
       0   0  0  0  0  1  0  0  0  0  0  0;
       0   0  0  0  0  0  10  0  0  0  0  0;
       0   0  0  0  0  0  0  10  0  0  0  0;
       0   0  0  0  0  0  0  0  0.01  0  0  0;
       0   0  0  0  0  0  0  0  0  1  0  0;
       0   0  0  0  0  0  0  0  0  0  1  0;
       0   0  0  0  0  0  0  0  0  0  0  0.001];
  R = 10*eye(4);
  K = lqr(A, B, Q, R);
end
